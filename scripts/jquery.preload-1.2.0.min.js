!function(n){n.fn.preload=function(s){function o(){a++,null!==l.progressFunction&&l.progressFunction(a,e),a>=e&&(console.log("done!"),i=!1,null===l.onComplete?window.setTimeout(function(){""!==l.loadingClass?n("."+l.loadingClass).fadeOut(200,function(){n("."+l.loadedClass).fadeIn(200)}):n("."+l.loadedClass).fadeIn(200)},300):l.onComplete())}var l=n.extend({loadingClass:"",loadedClass:"",progressFunction:null,onComplete:null,waitFirst:100},s),a=0,e=this.length,i=!0;n("."+l.loadedClass).css("display","none"),""!==l.loadingClass&&n("."+l.loadingClass).css("display","none"),setTimeout(function(){i&&""!==l.loadingClass&&n("."+l.loadingClass).css("display","block")},l.waitFirst),this.each(function(s,l){var a=new Image;a.src=n(l).attr("src"),a.onload=o})}}(jQuery);